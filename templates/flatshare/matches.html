{% extends 'flatshare/base.html' %}
{% load staticfiles %}

{% block title_block %}
    {{ user }}'s Matches
{% endblock %}

{% block body_block %}
    <div>
        <h3>Your Matches</h3>
        {% if matches %}
            <li>
                {% for match in matches %}
                    {{ match }}
                {% endfor %}
            </li>
        {% else %}
            <strong>No flat matches available</strong>
        {% endif %}
        <h3>Users who have liked your flat:</h3>
        {% if likers %}
            {% for liker in likers%}
                <a href="{% url 'flatshare:view_profile' user_slug=liker.slug%}">{{ liker.user }}</a>
                <form action='{{ liker.slug }}/like' method='GET'>
                    <button type='submit'> Like User </button>
                </form>
            {% endfor %}
        {% else %}
            <strong>No one has liked your flat yet.</strong>
        {% endif %}
        <h3>Flats you've liked</h3>
        {% if likes %}
            {% for flat in likes%}
                <a href="{% url 'flatshare:show_flat' flat_slug=flat.slug%}">{{ flat }}</a>
                <form action='{{ flat.slug }}/unlike' method='GET'>
                    <button type='submit'> Unlike Flat </button>
                </form>
            {% endfor %}
        {% else %}
            <strong>You haven't liked any flats yet.</strong>
        {% endif %}
    </div>
{% endblock %}
